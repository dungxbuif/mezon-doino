# Bot Qu·∫£n L√Ω N·ª£ (Doino Bot)

## T√≠nh nƒÉng: Ghi nh·∫≠n Order

**As a** User (Ng∆∞·ªùi d√πng ƒë·∫∑t ƒë·ªì)
**I want to** s·ª≠ d·ª•ng l·ªánh `*order`
**So that** ƒë∆°n h√†ng c·ªßa t√¥i ƒë∆∞·ª£c ghi nh·∫≠n v√†o danh s√°ch n·ª£.

## T√≠nh nƒÉng: X√°c ƒë·ªãnh Ch·ªß N·ª£

**As a** Bot (Doino Bot)
**I want to** t·ª± ƒë·ªông x√°c ƒë·ªãnh ng∆∞·ªùi cu·ªëi c√πng trong danh s√°ch `*report` l√† ch·ªß n·ª£ c·ªßa ng√†y h√¥m ƒë√≥
**So that** vi·ªác qu·∫£n l√Ω n·ª£ ƒë∆∞·ª£c ph√¢n c√¥ng r√µ r√†ng.

## T√≠nh nƒÉng: Qu·∫£n l√Ω Order c·ªßa Ch·ªß N·ª£

**As a** Ch·ªß n·ª£
**I want to** c√≥ th·ªÉ ƒë√°nh d·∫•u order c·ªßa user l√† "ƒë√£ thanh to√°n" (done)
**So that** t√¥i c√≥ th·ªÉ d·ªÖ d√†ng theo d√µi c√°c kho·∫£n n·ª£ ƒë√£ ƒë∆∞·ª£c tr·∫£.

**As a** Ch·ªß n·ª£
**I want to** c√≥ th·ªÉ ƒë√°nh d·∫•u order l√† "ƒë√£ thanh to√°n" b·∫±ng c√°ch react (bi·ªÉu t∆∞·ª£ng c·∫£m x√∫c) v√†o tin nh·∫Øn order ho·∫∑c g√µ l·ªánh
**So that** vi·ªác x√°c nh·∫≠n thanh to√°n tr·ªü n√™n ti·ªán l·ª£i.

## T√≠nh nƒÉng: C·∫•u h√¨nh t·∫ßn su·∫•t nh·∫Øc nh·ªü tr·∫£ n·ª£

**As a** Ch·ªß n·ª£
**I want to** c√≥ th·ªÉ c·∫•u h√¨nh t·∫ßn su·∫•t bot s·∫Ω nh·∫Øc nh·ªü c√°c con n·ª£
**So that** t√¥i c√≥ th·ªÉ ch·ªß ƒë·ªông trong vi·ªác thu h·ªìi n·ª£ (v√≠ d·ª•: 5 ph√∫t, 10 ph√∫t, h√†ng ng√†y).

## T√≠nh nƒÉng: Nh·∫Øc nh·ªü tr·∫£ n·ª£ t·ª± ƒë·ªông

**As a** Ch·ªß n·ª£
**I want to** g·ªçi l·ªánh nh∆∞ `*doino @<t√™n_user>` ho·∫∑c `*doino all` v·ªõi t·∫ßn su·∫•t mong mu·ªën (v√≠ d·ª•: `*doino @Hien Thanh Nguyen 5p` ho·∫∑c `*doino all 10p`)
**So that** bot t·ª± ƒë·ªông ping nh·ªØng ng∆∞·ªùi ch∆∞a tr·∫£ n·ª£ theo t·∫ßn su·∫•t ƒë√£ ƒë·∫∑t.

**As a** Bot (Doino Bot)
**I want to** t·ª± ƒë·ªông g·ª≠i tin nh·∫Øn nh·∫Øc nh·ªü (DM) ƒë·∫øn ng∆∞·ªùi d√πng ƒë√£ ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh khi ƒë·∫øn h·∫°n ho·∫∑c theo t·∫ßn su·∫•t c·∫•u h√¨nh
**So that** ng∆∞·ªùi d√πng ƒë∆∞·ª£c th√¥ng b√°o v·ªÅ kho·∫£n n·ª£ c·ªßa h·ªç.

## T√≠nh nƒÉng: B√°o c√°o n·ª£

**As a** Ch·ªß n·ª£
**I want to** c√≥ th·ªÉ y√™u c·∫ßu bot in ra m·ªôt b·∫£n b√°o c√°o n·ª£
**So that** t√¥i c√≥ c√°i nh√¨n t·ªïng quan v·ªÅ c√°c kho·∫£n n·ª£ t·ªìn ƒë·ªçng.

**As a** Ch·ªß n·ª£
**I want to** c√≥ th·ªÉ ch·ªçn ƒë·ªãnh d·∫°ng cho b·∫£n b√°o c√°o
**So that** b√°o c√°o ph√π h·ª£p v·ªõi nhu c·∫ßu c·ªßa t√¥i (v√≠ d·ª•: b√°o c√°o cu·ªëi th√°ng).

**As a** Ch·ªß n·ª£
**I want to** c√≥ th·ªÉ nh·∫≠p s·ªë ti·ªÅn cho t·ª´ng order
**So that** b√°o c√°o n·ª£ hi·ªÉn th·ªã ch√≠nh x√°c s·ªë ti·ªÅn m√† m·ªói user ƒëang n·ª£.

## T√≠nh nƒÉng: Y√™u c·∫ßu x√°c nh·∫≠n ƒë√£ tr·∫£ n·ª£ (Optional)

**As a** Ng∆∞·ªùi n·ª£
**I want to** s·ª≠ d·ª•ng l·ªánh `*request-tra-no`
**So that** t√¥i c√≥ th·ªÉ th√¥ng b√°o cho ch·ªß n·ª£ r·∫±ng t√¥i ƒë√£ thanh to√°n.

**As a** Ch·ªß n·ª£
**I want to** c√≥ th·ªÉ x√°c nh·∫≠n c√°c y√™u c·∫ßu tr·∫£ n·ª£ t·ª´ ng∆∞·ªùi n·ª£ (b·∫±ng react ho·∫∑c l·ªánh)
**So that** kho·∫£n n·ª£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t tr·∫°ng th√°i v√† ƒë∆∞·ª£c t√≠nh v√†o b√°o c√°o cu·ªëi th√°ng.

## T√≠nh nƒÉng: Xem b√°o c√°o tr√™n Web (Future)

**As a** Ch·ªß n·ª£
**I want to** c√≥ m·ªôt giao di·ªán web ƒë·ªÉ xem v√† qu·∫£n l√Ω c√°c b√°o c√°o n·ª£
**So that** vi·ªác theo d√µi v√† t·ªïng h·ª£p d·ªØ li·ªáu tr·ªü n√™n d·ªÖ d√†ng v√† tr·ª±c quan h∆°n.

---

B·∫°n c√≥ mu·ªën t√¥i t·∫°o m·ªôt bi·ªÉu ƒë·ªì ƒë∆°n gi·∫£n minh h·ªça lu·ªìng ho·∫°t ƒë·ªông c·ªßa bot kh√¥ng?

### **C√°c l·ªánh d√†nh cho ng∆∞·ªùi d√πng (User):**

1.  **`*order [n·ªôi dung order]`**

    - **M√¥ t·∫£:** Ghi nh·∫≠n m·ªôt ƒë∆°n h√†ng m·ªõi v√†o danh s√°ch n·ª£.
    - **V√≠ d·ª•:** `*order 1 tr√† s·ªØa tr√¢n ch√¢u ƒë∆∞·ªùng ƒëen`
    - **Ghi ch√∫:** C√≥ th·ªÉ kh√¥ng c·∫ßn s·ªë ti·ªÅn ·ªü b∆∞·ªõc n√†y, ch·ªß n·ª£ s·∫Ω nh·∫≠p sau.

2.  **`*request-paid`** (ho·∫∑c `*request-tra-no`)

    - **M√¥ t·∫£:** G·ª≠i y√™u c·∫ßu ƒë·∫øn ch·ªß n·ª£ ƒë·ªÉ x√°c nh·∫≠n r·∫±ng user ƒë√£ thanh to√°n kho·∫£n n·ª£ c·ªßa m√¨nh.
    - **V√≠ d·ª•:** `*request-paid`
    - **Ghi ch√∫:** Ch·ªß n·ª£ s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o v√† x√°c nh·∫≠n (b·∫±ng react ho·∫∑c l·ªánh).

3.  **`*mydebts`**
    - **M√¥ t·∫£:** Xem danh s√°ch c√°c kho·∫£n n·ª£ hi·ªán t·∫°i c·ªßa b·∫£n th√¢n.
    - **V√≠ d·ª•:** `*mydebts`

---

### **C√°c l·ªánh d√†nh cho ch·ªß n·ª£ (Creditor):**

1.  **`*report`**

    - **M√¥ t·∫£:** Hi·ªÉn th·ªã danh s√°ch c√°c kho·∫£n n·ª£ hi·ªán c√≥, bao g·ªìm ng∆∞·ªùi n·ª£, n·ªôi dung order v√† tr·∫°ng th√°i. Ng∆∞·ªùi cu·ªëi c√πng trong danh s√°ch s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông ch·ªâ ƒë·ªãnh l√† ch·ªß n·ª£ hi·ªán t·∫°i (n·∫øu ch·ª©c nƒÉng n√†y ƒë∆∞·ª£c tri·ªÉn khai).
    - **V√≠ d·ª•:** `*report`

2.  **`*done @[t√™n_user] [m√£_order]`**

    - **M√¥ t·∫£:** ƒê√°nh d·∫•u m·ªôt order c·ª• th·ªÉ c·ªßa m·ªôt user l√† ƒë√£ thanh to√°n. M√£ order c√≥ th·ªÉ l√† s·ªë th·ª© t·ª± trong b√°o c√°o ho·∫∑c ID ri√™ng.
    - **V√≠ d·ª•:** `*done @Hien Thanh Nguyen 3` (ƒë√°nh d·∫•u order th·ª© 3 c·ªßa Hi·ªÅn ƒë√£ xong)
    - **Ghi ch√∫:** Ngo√†i ra, c√≥ th·ªÉ d√πng React v√†o tin nh·∫Øn order g·ªëc.

3.  **`*set-amount @[t√™n_user] [m√£_order] [s·ªë_ti·ªÅn]`**

    - **M√¥ t·∫£:** Nh·∫≠p ho·∫∑c c·∫≠p nh·∫≠t s·ªë ti·ªÅn cho m·ªôt order c·ª• th·ªÉ c·ªßa m·ªôt user.
    - **V√≠ d·ª•:** `*set-amount @Hien Thanh Nguyen 3 35000`

4.  **`*doino @[t√™n_user] [t·∫ßn_su·∫•t]`**

    - **M√¥ t·∫£:** K√≠ch ho·∫°t bot t·ª± ƒë·ªông nh·∫Øc nh·ªü m·ªôt user c·ª• th·ªÉ tr·∫£ n·ª£ theo t·∫ßn su·∫•t ƒë·ªãnh s·∫µn.
    - **V√≠ d·ª•:** `*doino @Hien Thanh Nguyen 5m` (nh·∫Øc nh·ªü Hi·ªÅn m·ªói 5 ph√∫t)
    - **T·∫ßn su·∫•t:** `m` (ph√∫t), `h` (gi·ªù), `d` (ng√†y). M·∫∑c ƒë·ªãnh n·∫øu kh√¥ng c√≥ t·∫ßn su·∫•t c√≥ th·ªÉ l√† m·ªôt l·∫ßn ho·∫∑c theo config chung.

5.  **`*doino all [t·∫ßn_su·∫•t]`**

    - **M√¥ t·∫£:** K√≠ch ho·∫°t bot t·ª± ƒë·ªông nh·∫Øc nh·ªü _t·∫•t c·∫£_ nh·ªØng ng∆∞·ªùi ƒëang n·ª£ theo t·∫ßn su·∫•t ƒë·ªãnh s·∫µn.
    - **V√≠ d·ª•:** `*doino all 10m` (nh·∫Øc nh·ªü t·∫•t c·∫£ m·ªói 10 ph√∫t)

6.  **`*stop-doino @[t√™n_user]`** (ho·∫∑c `*stop-doino all`)

    - **M√¥ t·∫£:** D·ª´ng vi·ªác nh·∫Øc nh·ªü tr·∫£ n·ª£ cho m·ªôt user c·ª• th·ªÉ ho·∫∑c t·∫•t c·∫£ user.
    - **V√≠ d·ª•:** `*stop-doino @Hien Thanh Nguyen`

7.  **`*config-frequency [t·∫ßn_su·∫•t_m·∫∑c_ƒë·ªãnh]`**

    - **M√¥ t·∫£:** C·∫•u h√¨nh t·∫ßn su·∫•t nh·∫Øc nh·ªü m·∫∑c ƒë·ªãnh cho bot khi kh√¥ng c√≥ t·∫ßn su·∫•t c·ª• th·ªÉ ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh trong l·ªánh `*doino`.
    - **V√≠ d·ª•:** `*config-frequency 1h`

8.  **`*confirm-paid @[t√™n_user] [m√£_order_ho·∫∑c_all]`**

    - **M√¥ t·∫£:** X√°c nh·∫≠n r·∫±ng m·ªôt user ƒë√£ thanh to√°n. C√≥ th·ªÉ d√πng ƒë·ªÉ x√°c nh·∫≠n `*request-paid`.
    - **V√≠ d·ª•:** `*confirm-paid @Hien Thanh Nguyen all` (x√°c nh·∫≠n Hi·ªÅn ƒë√£ tr·∫£ h·∫øt n·ª£)

9.  **`*set-creditor @[t√™n_user]`** (ho·∫∑c `*set-owner`)

    - **M√¥ t·∫£:** Ch·ªâ ƒë·ªãnh m·ªôt ng∆∞·ªùi d√πng c·ª• th·ªÉ l√†m ch·ªß n·ª£ (trong tr∆∞·ªùng h·ª£p kh√¥ng t·ª± ƒë·ªông t·ª´ `*report` ho·∫∑c mu·ªën thay ƒë·ªïi).
    - **V√≠ d·ª•:** `*set-creditor @Ten n√® üç¨`

10. **`*clear-all-debts @[t√™n_user]`** (ho·∫∑c `*clear-all-debts all`)
    - **M√¥ t·∫£:** X√≥a t·∫•t c·∫£ c√°c kho·∫£n n·ª£ c·ªßa m·ªôt user c·ª• th·ªÉ ho·∫∑c t·∫•t c·∫£ c√°c kho·∫£n n·ª£ trong h·ªá th·ªëng.
    - **C·∫£nh b√°o:** L·ªánh n√†y c·∫ßn ƒë∆∞·ª£c s·ª≠ d·ª•ng c·∫©n th·∫≠n.

---

//TODO:
Tim cach query va tracking message order theo form
